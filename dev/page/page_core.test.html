<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>$page (page core) — jMini Test</title>
		<script src="../events/Document.onReady.js" type="text/javascript"></script>
		<script src="../events/Document.onReady.js" type="text/javascript"></script>
		<script src="../elements/HTMLElement.new.js" type="text/javascript"></script>
		<script src="../elements/Element.appendNew.js" type="text/javascript"></script>
		<script src="../elements/Element.setText.js" type="text/javascript"></script>
		<script src="../arrays/Array.toHtml.js" type="text/javascript"></script>
		<script src="./page_core.js" type="text/javascript"></script>
		<script src="./page_console.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" media="all" href="./console.css">
		<script type="text/javascript">
			
			// $p.init is called *after* the sub-objects' init, therefore the console will be available here: 
			$p.init = function() {
				$p.console.info('$p.init()');
			}
			
			$p.console.init = function(parent) {
				this.setTarget(document.getElementById('console'));
				$p.console.info('$p.console.init()');
			}

			// add two more modules with nothing but initialisation functions:
			$p.test = {
			
				// pre-init:
				_init: function() {
					$p.console.info('pre-inits are called before the module inits. Thus this will be redirected to the browser console:');
					$p.console.log('$p.test._init()');
				},
				
				// the order of 
				init: function() {
					$p.console.info('$p.test.init()');
				}
			}
			
			$p.test2 = {
			
				// pre-init:
				_init: function() {
					$p.console.log('$p.test2._init()');
				},
				
				// the order of 
				init: function() {
					$p.console.info('$p.test2.init()');
				}
			}
	
		</script>
	</head>
	<body>
		<h1>Tests: $p (page core)</h1>
		<main>
			<p>This module takes care of calling modules' initialisations. For testing, two “test” modules have been added, as well as the console module:</p>
			<div id="console"></div>
		</main>
		<footer>
			<p><mark>See browser console for more information or errors.</mark></p>
		</footer>
	</body>
</html>
